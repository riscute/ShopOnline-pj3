@using BotDetect.Web.Mvc;
@model ShopOnline.Models.Customer

@{
    Layout = null;
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <script src="~/asset/js/bootstrap.min.js"></script>

}
<script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
@*<link href="@BotDetect.Web.CaptchaUrls.Absolute.LayoutStyleSheetUrl" rel="stylesheet" type="text/css" />
    @{
        MvcCaptcha exampleCaptcha = new MvcCaptcha("ExampleCaptcha");
        exampleCaptcha.UserInputID = "CaptchaCode";
    }*@
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Register</title>
</head>
<body>

    @Html.ValidationSummary(false, "", new { @class = "error" })
    <div class="container">
    </div>
    <div class="row centered-form">


        <form id="registration">

            <h4> Register </h4>

            <div class="form-group">
                <label>Name</label>
                @Html.TextBoxFor(m => m.CusName, new { @class = "form-control", @placeholder = "Name", @data_error = "Enter Name" })
                @Html.ValidationMessageFor(x => x.CusName)
            </div>

            <div class="form-group">
                <label>Address</label>
                @Html.TextBoxFor(m => m.Address, new { @class = "form-control", @placeholder = "Address", @data_error = "Enter Address" })
                @Html.ValidationMessageFor(x => x.Address)
            </div>


            <div class="form-group">
                <label>Phone</label>
                @Html.TextBoxFor(m => m.Phone, new { @class = "form-control", @placeholder = "Phone", @data_error = "Enter Phone" })
                @Html.ValidationMessageFor(x => x.Phone)
                <span id="phonemain"></span>
            </div>
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6">
                    <div class="form-group">
                        <label>Email</label>
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @placeholder = "Email", @data_error = "Enter Email" })
                        @Html.ValidationMessageFor(x => x.Email)
                        <span id="message"></span>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6">
                    <div class="form-group">
                        <label>Password</label>
                        @Html.PasswordFor(m => m.Password, new { @id = "inputPassword", @class = "form-control", @placeholder = "Password", @data_minlength = "6" })
                        @Html.ValidationMessageFor(x => x.Password)
                    </div>
                </div>

            </div>
            @*@if ("CaptchaCode" != null)
                                {
                @Html.Captcha(exampleCaptcha)
                                    @Html.TextBox("CaptchaCode")
                                }
                                else
                                {
                                    <span id="captcha">Wrong Captcha</span>
                                }*@
            <input type="submit" value="Register" class="log-in">
            <a id="done" href="@Url.Action("LoginUser", "Login")"></a>
        </form>
    </div>



    <style>

        h4 {
            text-align: center;
            font-family: 'Abel', sans-serif;
            font-weight: 800;
            color: #31b0d5;
            margin: 20px 0 35px;
        }

        .form-control {
            border: none;
            display: flex;
            border-bottom: 2px solid #D1D1D4;
            background: none;
            padding: 10px;
            padding-left: 24px;
            font-weight: 700;
            transition: .2s;
        }

            .form-control:active,
            .form-control:focus,
            .form-control:hover {
                outline: none;
                border-bottom-color: #6A679E;
            }
        /* Fonts Form Google Font ::- https://fonts.google.com/  -:: */
        /* End Fonts */
        /* Start Global rules */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        /* End Global rules */

        /* Start body rules */
        body {
            /*background-image: linear-gradient(-225deg, #E3FDF5 0%, #FFE6FA 100%);
            background-image: linear-gradient(to top, #a8edea 0%, #fed6e3 100%);*/
            background: url('/asset/images/bongtrangdiem.jpg');
            background-size: cover;
            background-position-y: -330px;
            background-attachment: fixed;
            background-repeat: no-repeat;
            font-family: 'Vibur', cursive;
            /*   the main font */
            font-family: 'Abel', sans-serif;
            opacity: .95;
            /* background-image: linear-gradient(to top, #d9afd9 0%, #97d9e1 100%); */
        }



        /* |||||||||||||||||||||||||||||||||||||||||||||*/
        /* //////////////////////////////////////////// */




        /* End body rules */

        /* Start form  attributes */
        form {
            width: 450px;
            min-height: 500px;
            height: auto;
            border-radius: 5px;
            margin: 1% auto;
            box-shadow: 0 9px 50px hsla(20, 67%, 75%, 0.31);
            padding: 2%;
            background-image: linear-gradient(-225deg, #E3FDF5 50%, #FFE6FA 50%);
        }
            /* form Container */
            form .con {
                display: -webkit-flex;
                display: flex;
                -webkit-justify-content: space-around;
                justify-content: space-around;
                -webkit-flex-wrap: wrap;
                flex-wrap: wrap;
                margin: 0 auto;
            }

        /* the header form form */
        header {
            margin: 2% auto 10% auto;
            text-align: center;
        }
            /* Login title form form */
            header h2 {
                font-size: 250%;
                font-family: 'Playfair Display', serif;
                color: #3e403f;
            }
            /*  A welcome message or an explanation of the login form */
            header p {
                letter-spacing: 0.05em;
            }



        /* //////////////////////////////////////////// */
        /* //////////////////////////////////////////// */


        .input-item {
            background: #fff;
            color: #333;
            padding: 14.5px 0px 15px 9px;
            border-radius: 5px 0px 0px 5px;
        }



        /* Show/hide password Font Icon */
        #eye {
            background: #fff;
            color: #333;
            margin: 5.9px 0 0 0;
            margin-left: -20px;
            padding: 15px 9px 19px 0px;
            border-radius: 0px 5px 5px 0px;
            float: right;
            position: relative;
            right: 1%;
            top: -.2%;
            z-index: 5;
            cursor: pointer;
        }
        /* inputs form  */
        input[class="form-input"] {
            width: 240px;
            height: 50px;
            margin-top: 2%;
            padding: 15px;
            font-size: 16px;
            font-family: 'Abel', sans-serif;
            color: #5E6472;
            outline: none;
            border: none;
            border-radius: 0px 5px 5px 0px;
            transition: 0.2s linear;
        }

        input[id="txt-input"] {
            width: 250px;
        }
        /* focus  */
        input:focus {
            transform: translateX(-2px);
            border-radius: 5px;
        }

        /* //////////////////////////////////////////// */
        /* //////////////////////////////////////////// */

        /* input[type="text"] {min-width: 250px;} */
        /* buttons  */
        .log-in {
            display: inline-block;
            color: #252537;
            width: -webkit-fill-available;
            height: 50px;
            padding: 0 20px;
            background: #fff;
            border-radius: 5px;
            outline: none;
            border: none;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s linear;
            margin: 7% auto;
            letter-spacing: 0.05em;
            background-color: #31b0d5;
        }
        /* Submits */
        .submits {
            width: 48%;
            display: inline-block;
            float: left;
            margin-left: 2%;
        }

        /*       Forgot Password button FAF3DD  */
        .frgt-pass {
            background: transparent;
        }

        /*     Sign Up button  */
        .sign-up {
            background: #B8F2E6;
        }


        /* buttons hover */
        .log-in:hover {
            transform: translatey(3px);
            box-shadow: none;
            background-color: #fff;
        }

        /* buttons hover Animation */
        .log-in:hover {
            animation: ani9 0.4s ease-in-out infinite alternate;
        }

        keyframes ani9 {
            0%

        {
            transform: translateY(3px);
        }

        100% {
            transform: translateY(5px);
        }
        }
    </style>


    <script type="text/javascript">
            $(document).ready(function () {
                $("#registration").validate({
                    rules: {
                        CusName: "required",
                        Address: "required",
                        Email: {
                            required: true,
                            email: true
                        },
                        Phone: {
                            required: true,
                            number: true,
                            minlength: 10,
                            maxlength: 11

                        },
                        Password: {
                            required: true,
                            minlength: 6
                        },

                    },

                    messages: {
                        CusName: "Please enter your name",
                        Address: "Please enter your address",
                        Email: {
                            required: "Please enter your email",
                            email: "Enter the correct email format"
                        },
                        Phone: {
                            required: "Please enter a valid phone number",
                            minlength: "Your phone must be at least 10 number",
                            maxlength: "Your phone number up to 11 numbers"
                        },

                        Password: {
                            required: "Please provide a password",
                            minlength: "Your password must be at least 6 characters long"
                        },


                    },
                    submitHandler: function (form) {
                        UserCheck2();
                        $.ajax({
                            type: "POST",
                            url: "@Url.Action("Register","Login")",
                            data: $(form).serializeArray(),
                            success: function () {
                                @*window.location.href = "@Url.Action("LoginUser","Login")"*@
                            },
                            error: function () {
                                console.log();
                            }
                        });
                    }
                });
            });
    </script>


    @*}*@
</body>
</html>
<script>
        function UserCheck2() {
            $.post("@Url.Action("Check2","Login")",
                {
                    phonenumber: $("#Phone").val()
                },
                function (data) {
                    if (data == 0) {
                        window.location.href = "@Url.Action("LoginUser", "Login")"
                    }

                    else {

                        Swal.fire({
                            icon: 'error',
                            title: 'That phone is exist',
                            showConfirmButton: false,
                            timer: 2500
                        });

                    }
                });
        }

</script>